[gd_scene load_steps=11 format=3 uid="uid://bsprmlvm1l1e5"]

[ext_resource type="Texture2D" uid="uid://7n38l6qxvcdc" path="res://Portal/bottom.png" id="1"]
[ext_resource type="Script" path="res://Portal/Portal.gd" id="2"]
[ext_resource type="Texture2D" uid="uid://buo25vgp3y7ea" path="res://World/Light/spot.png" id="2_v70qq"]

[sub_resource type="RectangleShape2D" id="1"]
size = Vector2(30, 1.875)

[sub_resource type="CanvasItemMaterial" id="5"]
blend_mode = 1
particles_animation = true
particles_anim_h_frames = 3
particles_anim_v_frames = 2
particles_anim_loop = true

[sub_resource type="Gradient" id="3"]
interpolation_mode = 2
colors = PackedColorArray(0, 0.203922, 1, 1, 0, 0, 0, 0)

[sub_resource type="GradientTexture2D" id="9"]
gradient = SubResource("3")

[sub_resource type="ParticleProcessMaterial" id="2"]
emission_shape = 3
emission_box_extents = Vector3(16, 0, 0)
gravity = Vector3(0, -98, 0)
scale_min = 3.0
scale_max = 3.0
color = Color(0, 0.203922, 1, 1)
color_ramp = SubResource("9")

[sub_resource type="Animation" id="8"]
resource_name = "FadeOut"
length = 0.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimationFade/CanvasLayer/Fade:self_modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.5),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(0, 0, 0, 0), Color(0, 0, 0, 1)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_m8ekc"]
_data = {
"FadeOut": SubResource("8")
}

[node name="Portal" type="Node2D"]
script = ExtResource("2")

[node name="Area" type="Area2D" parent="."]
collision_layer = 4
collision_mask = 4

[node name="Collision" type="CollisionShape2D" parent="Area"]
position = Vector2(0, -0.9375)
shape = SubResource("1")

[node name="Light" type="PointLight2D" parent="."]
position = Vector2(0, -2)
color = Color(0, 0, 1, 1)
shadow_enabled = true
shadow_filter = 2
texture = ExtResource("2_v70qq")

[node name="Particles" type="GPUParticles2D" parent="."]
material = SubResource("5")
position = Vector2(0, -1)
amount = 12
process_material = SubResource("2")

[node name="Floor" type="Sprite2D" parent="."]
position = Vector2(0, -16)
texture = ExtResource("1")

[node name="AnimationFade" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_m8ekc")
}

[node name="CanvasLayer" type="CanvasLayer" parent="AnimationFade"]

[node name="Fade" type="ColorRect" parent="AnimationFade/CanvasLayer"]
self_modulate = Color(0, 0, 0, 0)
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -665.0
offset_top = -384.0
offset_right = 667.0
offset_bottom = 371.0
mouse_filter = 2

[connection signal="body_entered" from="Area" to="." method="Area_entered"]
